# Meterpreter

As powerful as it is, meterpreter runs on the victim's memory in order to facilitate our task on exploiting  and accessing the target, from getting us a shell, transfer files, to doing screenshots and opening the camera of our victim. It supports staged and stageless payloads which makes it suitable for whatever we want to achieve.

Not only it gives as a shell on the victim's machine but it provides much more fucntionalities with great slealthiness since it doesn't create another other processes because it injects itself in a compromised process and can migrate from one process to another + the AES encryption of the communcations which assures integrity of the data in question.

For a more important read check [this](https://www.rapid7.com/blog/post/2015/03/25/stageless-meterpreter-payloads/) and [this](https://www.blackhillsinfosec.com/modifying-metasploit-x64-template-for-av-evasion/).

## Attack structure

* The target executes the initial stager. This is usually a bind, reverse, findtag, passivex, etc.
* The stager loads the DLL prefixed with Reflective. The Reflective stub handles the loading/injection of the DLL.
* The Meterpreter core initializes, establishes an AES-encrypted link over the socket, and sends a GET. Metasploit receives this GET and configures the client.
* Lastly, Meterpreter loads extensions. It will always load `stdapi` and load `priv` if the module gives administrative rights. All of these extensions are loaded over AES encryption.





